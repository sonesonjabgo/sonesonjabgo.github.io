{"componentChunkName":"component---src-templates-blog-template-js","path":"/next-folder-tips/","result":{"data":{"cur":{"id":"f1d824ce-0f01-5e8d-8319-44fc929cb3ca","html":"<h2 id=\"next-app-router\" style=\"position:relative;\"><a href=\"#next-app-router\" aria-label=\"next app router permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next app router</h2>\n<ul>\n<li>app router 방식은 폴더 네이밍대로 routing이 생긴다.</li>\n<li>이게 아주 편리하지만 … 폴더가 많으면 너무 복잡해진다</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 214px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACuklEQVQ4y5WRO28UVxiGt8XGBrwz55y57J6ZM/frzmXXzs5GXjZkZSkLAUOBBAaBCwokfkCatMRSijg/APEfIGVoAi1CpMhFaV1QRJGikCiSPW/kwUoTvIHiaY70PXq+87VM26lzYWJnMvnj4rj6TjjOruN6X/lm8rVvxLvvS6vT5bWpKriYDfbWh+Nv4yh4oNv+jpMUX7hZed/plffd96ClKAxd0z/YGKv48p7YE77zg7Pq/67bHRBZBmUElBJQRsHegZaqqrWm84MyVDHN2VM7ih76/eAbpikv2mfaP0mS/Mshp1fO/LiwvPRyYWnp+3kcCmEaDj4cm/Vnn5+HE3gQhQ+/SpAM0hdlnjzJy+jJuersz1c3Lvy9dX72+vps9nrrGJpC3hV1VnRx5+70IOzFf/LC/c0bRn/1hr1neRo+yvLg8XQ4eX7jwpVfty9vvrq9uflq+xiawpW2DM/S8enZTm1ZDtYGa0ijFFHcQxRFSNMemEKxsHQSi8vLc2lpqgpJonUS6vW1Sy44F/WoGtVl1q/zbLA/yIv9D/pr+4bePWCM1YcbqYpyLE2hzAgchWOdJdC4jm7mgKcWROlCEx10AgNdzwSjFJQxsDk0hW1K0NMMjJkB5pvwp33YVQxnnIGnLuwqhV36zdqU0vnCw0KFSGiLACdWZ/AExyCyEVkcRSBQRjZC0YHUlo+G5ksbISMSqAhwajCDZxm49HEfo7UY42GE0WqIqvBBjiSUsv8vZEQGMVysFOegUgJb0xocTYOpqJBl8p+/O67yjVCWQOwYi9VllKaBrTzBrSLFLHDxSehCMNasTGUCIsn/yt4mPSokINxCOxlB0VUoNofmmdAjC4rogocWeCDQsfibaytzCzUwuQ3ZzbA8udkMhR8VCCcZomkJr4oRb/QRbwzgrIbNm9pRQcnbhf8AnYixsLaIU5kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/7dbf3aecf84d6da887894616c18568ef/a48b3/image.png\"\n        srcset=\"/static/7dbf3aecf84d6da887894616c18568ef/e9ff0/image.png 180w,\n/static/7dbf3aecf84d6da887894616c18568ef/a48b3/image.png 214w\"\n        sizes=\"(max-width: 214px) 100vw, 214px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>위와 같이 폴더를 구성하고</p>\n</li>\n<li>\n<p>components 안에 pages.tsx를 작성하면</p>\n</li>\n<li>\n<p>(주소)/components 라는 경로의 페이지가 만들어져 버린다</p>\n</li>\n<li>\n<p>위 같은 문제를 방지하기 위해 next는 폴더 규칙이 있다.</p>\n</li>\n</ul>\n<h2 id=\"route-group\" style=\"position:relative;\"><a href=\"#route-group\" aria-label=\"route group permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Route group</h2>\n<ul>\n<li>route가 될 수 있는 페이지들을 하나의 그룹으로 묶을 수 있게 해줌</li>\n<li>규칙은 (name)\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 290px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 148.88888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEpUlEQVRIx42V21MbZRjGd7On7G72kF12c4IQgoCkQEk5QwmUaUCgIIcQQjgfhHRobSlqdcZxrKMzTus4VscrL7ypM9545Z1XXvi3+G88+n0LgQTC9OKdPT/7/t73+d6P6R/IINU7go3eAfyzvobTxRVksrPYPXiItc09zC+uItXRg87bfeh4i2D6RufQdfcB5oam8OfRCb44PMV0/hCfvvgBxx9/jcLeCTr6skgPz6B7aBq3B6duDCZY3wU9cgtqOAUxcguS0wbBSEB134UUbIZoJr1zqxmy3QIj2gEz2kGP1wXj4wQoqgaeFxGtj2P96BFS3T2QZRWZ8Ql0dd9BQzyB8Yn7GB27B003wTAMGIa9PgQpAFW3Icoa6iJxfPDR5+gfn4JuOpicXcDovUncHc9iZn4Z+eIOLCcKhhXACQp8ggwfXxmM4NfAcn4wrEhf9P5+ngF36fosfCJY3k+/KQfvL9+jgj5egaSYUAJBWKEYPnv5EyYeLEOSNWSn5zA2MYWudB8mJmfQ2NRKf0SyKQtfJyjKOmTVhB50cfrVK0yvbEA367C1X8JCbo0KF7f2EW1IVgpWBRXkBBUMUfdVYZPramRWgO9yZjWRZQNywETQieDkxUuMZGehGTYGhsfQ3tGNwZFxJFtSF4I1wmvKmSCpoW65eP7ta8wX96BqQSyuFPHhs+fY2jvCnf5hD1eQb86QIHudFioxz8/Zi3uemHR9htc1xbDD1It9mfu0y+neISRb2pHuHURjsrV2DblqZMWAqlkw7BC+/PEX5HZLFHl+KY9cYQP54hZ6+kcukG+qYW1k6eycqyjDW3VZ9OvwKwa0oIv10lN0D2bAiwoSzW2IN7WgK91P0UnWZdFqwcvIfsWEqlsIOlF89+vvKBw+psbe3DvC5PQ8tvdLyK9vI2iHwDA1rHOly1XGJt30cH21sa/LkCCToyTr0IIOcjslpNIDFNkJ18MNN8AJxRCKxNHa3glJ0cFwUmUtL2dIkVUTAd2GHY7h9Zs/sHb0BKbl4vD4KUqPn6H06ASr6ztYWdtCQ+Idb4SJypUhUc6QqjMEkac1og8pqq9qoDKXSuCNuMsdp4LEgywXQKRew9xSI+IJB7wYgBuup8ixeBJOqB62G6X45FjnxtCYbKPPKzLkRRWmHYZfDaGpxY+//t7Eq++P4EYSeH95FUv5IgobuxSdIL83u0DHWK6wicLmLvLFbTpUzlfQWQ1lMKwEhhPgRC2EYhH6R0FSwQkyfVkz6+hSJNd+RadbBi+pUAJmxfpmeClAPchJAVimhb72FGzTpmVwIw3Qgw5MK4RQNE73GbKX0GFBLEZsxYoXw4LUkBNVaIYDWa9DPBzGb998gsO1HDX40kqR4i3kCl6Hi1u08xSPblD+KyvGM7YY8NYtK4OTXHCiAZaXQHbEgGFDM+rgVw2K7XlPqvBehQ8JMhmuLK8h5kooZkU0xaSz5aiX60WESU2JqW+chwTZCDrglAgynQzwbwZvft6AE23G8ZNTrO8cYHJmnnZ1++AhpucWqRc5Qa4xHCSNeo7lZPCCgOYmB4mmODU7qRexBMkqoFswLPfmDP8X/A+vXQkN1i5XpgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/361cb137d403f5e57be5dc9b663d08be/139a5/image-1.png\"\n        srcset=\"/static/361cb137d403f5e57be5dc9b663d08be/e9ff0/image-1.png 180w,\n/static/361cb137d403f5e57be5dc9b663d08be/139a5/image-1.png 290w\"\n        sizes=\"(max-width: 290px) 100vw, 290px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></li>\n</ul>\n<h2 id=\"private-folder\" style=\"position:relative;\"><a href=\"#private-folder\" aria-label=\"private folder permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Private folder</h2>\n<ul>\n<li>page.tsx를 만들더라도 route를 생성하지 않게 하려면</li>\n<li>폴더 앞에 _ 를 붙이면 된다.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 148px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACPElEQVQoz32RT28SQRiHuWlTSmH/zOzswsLCLgssbKHLn9LSkDRKtTStjTFGPTS1BxPPHvwMHkz06Gfx5gd7zC61Rasefnknk5ln3uednO04WMqmWqtQcW2EUJTLZRzbwbbs2yihVlUqlKWwlZOdcdKza8m12hE73QGDXYPvP6749Pma/GaRxrBD/HRIvNynl9bzKd1Fn/jikHgxJnl1SPd4iFICIQRSyiy5iutSdT1qnsGHj0uuLk+QjiIYdWhO2tQHbcJZj2gxpJE08Sc9/EELf9yi3g+xHQspLSxrlZxSCiEFpmmx8WCbTdXAcj2kaaJvldALJUzNQNssoudLmCUdPV/EKOgI3cy6SkG/as7JZqiwpIldrZG//sLW7CWNboPB+T6d5ZTJ6zndVPtsj87RiHi5h58ECENgqTvYHfDmBWlZaMMFRtCnXHVo7vXwJxHBsI0/atFI2nhxSHgQ44ZVpCluQfeB6YYUiEoNaTsIw8QoaugFDTNVMwXGtpbppxE3sPXu1oAKS5jIcpWH775ROLrE9RTd0wMGF1N6jyf0T6f0z/YJpp0VTN1B/qus9+cY9QjHdfAnXfxhiBc3qccBwTii2vaybtch/wDeKHshMtU2DMyivvrNFCAkRkG7XWd30vUf6veUN95+pTB/g1u36T07ZPf5lJ0nM+bvl0THE8aXc6KTEdFiRPJihp80s3n/VdmSEi15hOH3cCqKetKm3g/wogB/EFKLA/xhm+ZBDzf0aCQt3Obvv/0T5+hQqMh2oMkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/3646a8afde326af73db156f7bd7f745a/12f09/image-2.png\"\n        srcset=\"/static/3646a8afde326af73db156f7bd7f745a/12f09/image-2.png 148w\"\n        sizes=\"(max-width: 148px) 100vw, 148px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></li>\n</ul>\n<h2 id=\"next에서-api-key-숨기기\" style=\"position:relative;\"><a href=\"#next%EC%97%90%EC%84%9C-api-key-%EC%88%A8%EA%B8%B0%EA%B8%B0\" aria-label=\"next에서 api key 숨기기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next에서 API KEY 숨기기</h2>\n<ul>\n<li>API KEY나 환경 변수 같은 것 들은 .env 파일에 저장한다.</li>\n<li>root에 .env 파일을 만들고 변수 작성하면 됨.</li>\n<li>불러올 때 process.env.변수이름 으로 불러오면 된다.</li>\n</ul>","excerpt":"Next app router app router 방식은 폴더 네이밍대로 routing이 생긴다. 이게 아주 편리하지만 … 폴더가 많으면 너무 복잡해진다  위와 같이 폴더를 구성하고 components 안에 pages.tsx를 작성하면 (주소)/components 라는 경로의 페이지가 만들어져 버린다 위 같은 문제를 방지하기 위해 next는 폴더 규칙이 있다. Route group route가 될 수 있는 페이지들을 하나의 그룹으로 묶을 수 있게 해줌 규칙은 (name)\r\n Private folder page.tsx를 만들더라도 route를 생성하지 않게 하려면 폴더 앞에 _ 를 붙이면 된다.\r\n Next에서 API KEY 숨기기 API KEY나 환경 변수 같은 것 들은 .env 파일에 저장한다. root에 .env 파일을 만들고 변수 작성하면 됨. 불러올 때 process.env.변수이름 으로 불러오면 된다.","frontmatter":{"date":"July 04, 2024","title":"next.js 폴더 구조 + 팁","categories":"Next","author":"손재형","emoji":null},"fields":{"slug":"/next-folder-tips/"}},"next":{"id":"b4e9f8e1-9d1e-5f1b-8273-822be12e3e16","html":"<ul>\n<li>리액트는 key가 동일 할 경우, 동일한 DOM Element를 보여줌</li>\n<li>때문에 key를 index로 뒀을 때 문제가 생길 수 있다.</li>\n</ul>\n<h2 id=\"예시\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C\" aria-label=\"예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Example</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>list<span class=\"token punctuation\">,</span> setList<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'철수'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'영희'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'민수'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addItem</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">setList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'정국'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>list<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">delItem</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">setList</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> l<span class=\"token punctuation\">.</span>name <span class=\"token operator\">!=</span> <span class=\"token string\">'철수'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">{</span><span class=\"token comment\">/* 추가 버튼과 삭제 버튼*/</span><span class=\"token punctuation\">}</span>\r\n      <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"추가\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>addItem<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"삭제\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>delItem<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n\r\n      <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span> Show Problem Example<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">{</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token comment\">/*  div 태그의 key로 배열의 index 사용*/</span>\r\n        <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">{</span>v<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> idx<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span> <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Example<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>line 22, 23: 추가, 삭제 버튼. 추가 버튼을 누르면 정국 데이터를 list 앞에 추가하고 삭제를 누르면 철수를 삭제한다.</li>\n<li>line 28: component가 관리하는 list 데이터를 map으로 loop 돌며 div 태그의 key를 index로 지정한다.</li>\n</ul>\n<h3 id=\"추가할-때\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80%ED%95%A0-%EB%95%8C\" aria-label=\"추가할 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가할 때</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 304px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABWUlEQVQoz61TPY+CQBT0//8CeiglJsaOwsLEKNydhTYHEhXBaBSVL/F7LvMMRorTu8RNJrvMvszOm10qcRzh6+MT37YD13XR7/cxGAyw2+3Acb1e8Z9RSdME7nCIIAgwnU4xHo8xGo1EkGLn8xmXy0XA72Iu1o97Iog3DopWFosFms3m3d16vUa73YZt28KZpgnHceB5Hljb6/Xg+75gMpkITy7LsptDEqqqol6vo1qtotvtotPpoNVqQdd12avVarK2LAuGYaDRaAhHKIoCTdPEwFtaPh6P5ZaTJMFsNsN+v8d2u8Vms0EcxyBPLs/zEsg98ofDQdrl5YnD1WolGTC7+Xwu2SyXSwGFoyh6iTAMcTqdboJ0wrfHgAtBnky3fDo8/RlYQ9GSIN8dW6VbIk1Tmf/ikDUlhyTojo7okE+lyJGBM6NnYA0N3DP87fZ4YnEBr0DR4k/5AaIfj6YWW9IbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/cfb5f58ee7980ea804da5c5287a03293/c1724/capture1.png\"\n        srcset=\"/static/cfb5f58ee7980ea804da5c5287a03293/e9ff0/capture1.png 180w,\n/static/cfb5f58ee7980ea804da5c5287a03293/c1724/capture1.png 304w\"\n        sizes=\"(max-width: 304px) 100vw, 304px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n철수 input에 데이터를 입력</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 313px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABbUlEQVQoz51TyarCQBDM/989qQcFD8GD+AWS5ChEPAjGqCAuqHHfl8R6VEPPM/oeb2koeqanqKnuTKzpdIput4t+v4/JZILhcIj5fA7G4/EQ/CWsMAjgOh78RgPtdhv1el0uYCRJYkR/ghqwVDmOY8F/Q0Uttsw2r9crbrcb9vs9Op0OzueztB5FkdR4Tu5sNsP9fjc1np9Op0+Hnuchm82iVCrBtm00m02Uy2VUq1Xk83nkcjkUCgU4joNarSY87iuVCorFIjKZDFzXNSNKtczCaxta01mRR2dcr9drszYOd7sdttutENkmCYfDAavVCpvNRtbL5RLH4xGXy0VADjNb12wEwzBEq9US0V6vJ3Mi+Iy4D4IAvu9LjRdSWMHZcZasG8HxeCxzWywWGAwG4oYkuqN7zbp+Bk2wk5Qgb6YQRUajkcyFZGbWVOwr6MUpQTrjH8JZUZAOSWI7Oivm76C8t4f9GnyTv8XzV/4ATZaRDVMKghIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/bac6203279a6f029195bdbbe0db2fad0/80977/image.png\"\n        srcset=\"/static/bac6203279a6f029195bdbbe0db2fad0/e9ff0/image.png 180w,\n/static/bac6203279a6f029195bdbbe0db2fad0/80977/image.png 313w\"\n        sizes=\"(max-width: 313px) 100vw, 313px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n추가 버튼을 눌렀을 때</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 308px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABjklEQVQ4y61Uy4rCQBDM/39ATkIuoqJePHjzCyRCoqKixqxB8ZHE9/tVS7XMrCuyKGxDUZlhUl3dPYkRxxGqjgv/qw+v10Oz2YTv+zifz2Dcbjd8EkYUhahX6+gHATzPQ6PREKYgxa7Xq7DC81pBJTfwT6FEjdFohFqthsVigdlshtVqBdu2MZ/PMR6P0e12MZ1OsVwuEcexuF+v14iiSM7yzHA4/HHoui4SiQSy2SwymQwcx0GxWESpVEIymYRlWUilUigUCiiXy8jlcsjn84J0Og3TNIX3+/3d4TtlPAf7yDidTlpIl0z7LJtMbDYb4d1uh+PxiMPhIOCLZO6pfTJF+axLZg/a7bb0LAgCEece+/mYhGDPnsHesv9akAJsNB0NBgNMJhPJ2Ol00Gq1JFmlUhFWAq+gBSnCqYZhqB3SLdecKtc8w0nT7SuHZC2orgKZpfI6sFwe3G63AronP5avoJJoQWamIDfpkCXTIfvCQSjBv/BLkFPitC6Xi56kug7vgu+/9el98mNQ9/AbGmIqV2WuC0cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/df1ba44a25beeb0d5e1a6481233ea48a/2ece4/image-1.png\"\n        srcset=\"/static/df1ba44a25beeb0d5e1a6481233ea48a/e9ff0/image-1.png 180w,\n/static/df1ba44a25beeb0d5e1a6481233ea48a/2ece4/image-1.png 308w\"\n        sizes=\"(max-width: 308px) 100vw, 308px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n이러한 결과를 예상했지만</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 297px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABpUlEQVQ4y5WUSWsCQRSE/f93RU/qQfEgePaUkFuIKOIOGRFHHfd9H7XC16HFRAOmoejuN93V9eo9DXheT03H0afjyHU76vV66nQ68n1fjMvlov+MQKNe19vLq94/cqpUqioUCsrn8zocDlfCZ2EIT6eTjr6v3W6n7Xar4/F4p+z3Jebz+XwXM4Sr1UrgdgwGg+sFHrodk8nkLs1bEYFsNqtIJKJ0Oq1oNKpisahMJqNkMqlwOKxgMGjWsVhM1WpViURCqVTKzCAejysUCimXy30r3Gw2mk6nGg6Hcl1Xy+VS2LBYLNTv9zUajYxi5v1+b7IhTvGI8Qh3uWcIH1UK6ZAC6xMWUCjSYw3sd9bXlD3PU6lUEjPt0m63zbrVaslxHLOv1Woql8umaJCi9BbEgVEISaPR0Hw+V7fbNWSz2cykQwHY2zhnsILZgj3nbfEC+IYCPMAX/MAnDhGzXQC4/Ag/CCGgmTEes8F4PDYEtjct2D8Chb0Skho+oQZSHiBVKs/Lz4CzPxQ2m03zAa9QCOF6vb4z/y9Y9X+2DYM/B1rkWdif3hePqSYvr2luFQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/741b273b4c6e6603aa9d08962a1fd18a/9edad/image-2.png\"\n        srcset=\"/static/741b273b4c6e6603aa9d08962a1fd18a/e9ff0/image-2.png 180w,\n/static/741b273b4c6e6603aa9d08962a1fd18a/9edad/image-2.png 297w\"\n        sizes=\"(max-width: 297px) 100vw, 297px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n이러한 결과가 나온다.</p>\n<ul>\n<li>list 값이 변경되면서 index를 다시 mapping함</li>\n<li>맨 앞에 추가된 정국은 key = 0</li>\n<li>key가 동일 할 경우, 동일한 DOM Element 보여줌</li>\n</ul>\n<h3 id=\"삭제할-때\" style=\"position:relative;\"><a href=\"#%EC%82%AD%EC%A0%9C%ED%95%A0-%EB%95%8C\" aria-label=\"삭제할 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>삭제할 때</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 294px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABf0lEQVQoz5VSyYrCUBDM/5/1oh5cELyKP+A9M4dETQYTTRRFxX1fEq2hWjroQGB8ULyturpe9zPCIEDLtuG4PwiCAL1eT+YoisDxeDzwyTB8z8O3+QWr1RIx13XhOE4ieL/fRVTxd/8KEVTlOI4Qx/HHjl4HY43JZILZbPZ22O12cTqdcDwesVgscD6fxTHdjUYjXK9X4d5uN+Gv1+vkRUaj0UChUECtVkMul4Nt26jX66hWq8hkMshmsyiXy8jn82i328KrVCooFosolUoSQ16z2XwKMgszHg4HbDabt+z7/V5c0i1dsiS83+12Ap4Nh0PhkC+CJKldHbwkmcFcK3RPPsE1y6CzCLJe7Ox2u0W/38dgMADr2ul05Ik8pwO+IA10S44IhmEI0zSl+OPxGNPpVEj8OjxfLpcSQOE0sFSJIDvseR5Wq5V0mwK8pHPLsiSRBqWBXU4E+Q34VF7QLV3O53NZ+74vjblcLlLTNOgXE0EtsBZX90piI/4DbcovE3qLbMxMrgkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/47527d50450481150493eb009fe4e6db/04a86/image-3.png\"\n        srcset=\"/static/47527d50450481150493eb009fe4e6db/e9ff0/image-3.png 180w,\n/static/47527d50450481150493eb009fe4e6db/04a86/image-3.png 294w\"\n        sizes=\"(max-width: 294px) 100vw, 294px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n위 상황에서 삭제를 눌렀을 때</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABW0lEQVQoz6WSy26CUBCGef8HcGPUlQkSWfgIbXelrBDBBQYSAa9gvCvC3/zTHFOJadr0JJNhmNs3c46WxDGCIEAwmSBJUkynU8xmM1RVBR6lf3s013Hw9vKKd+sDvu/DsiyMRiMp9BdRzbXb7YaiKHA6nURo18nqlN+L1GO07XaL4/H44FitVvJ9uVykiTpsvNlsHgqVZfkAoZmmiU6nA+putwvP80QbhoFGo4Fms4ler4d+vy8rabVaGAwGEqPruuS2220sFosvwt1uhzzPsVwuEcex0F6vVyGZz+dCm6YpsizD+XyWRNrUvEBeKHPpk4JEru+DI3BctV9qNmGSspUwn3IfOQxD2LYtJFEUCSWfDUcfDoeyQxZ6Jsq33++loRASezwey0gsSPz1eg3XdeE4jvznSn4SxpBcCpKM+zgcDkLHAHZmoyRJZKe0qZ8JfcxVN63hn6f+Xj8BMU9DhylF53cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/9c60f4dc99589ab2bda61252ee72be61/5a46d/image-4.png\"\n        srcset=\"/static/9c60f4dc99589ab2bda61252ee72be61/e9ff0/image-4.png 180w,\n/static/9c60f4dc99589ab2bda61252ee72be61/5a46d/image-4.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n이러한 결과를 예상하지만</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 291px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXklEQVQoz7VT2YrCQBDM//+ITyooKoogosSNkuz6oBCIKIgHqIlHPFFrqZKR7IIPC+5A0XTPdPU51mazARFFEbbbLdbrNY7HI3ju9zv+eizH/oD3+YVeryfU63XMZrMnoUFSTwZL2kS4Wq0QhhGWy6WypIzjWI9ut9sPGOffdnMnQrzxkNTKZDJot9twXRfD4VAyl8vB8zyUSiU0Gg10Oh10u12Mx2Pk83n0+304jqM3RLVaxXQ6fWRIp3K5DBK3Wi0MBgM0m01UKhU5FwoFZLNZkTJgsVhUIAat1WpIpVJIp9Pq/1tKTg5EJY9GI4RhiMPhoPXZ7/fSJ5OJhsQV4h2lAXVjO51OGuLlcnlkaHq3WCxULqfOXtm2rb7QkQ6vwASYCIlF6Pu+9o6EQRCIYD6fax95t9vttOzmAyRh7KzIfAaLv4PsjMQSr9erdGbHbFkK9Vc4n8+S9PuXPfwGzPKOWnpwPHAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/3aba2f9d99a82c5ebb0caf92f9528344/78805/image-5.png\"\n        srcset=\"/static/3aba2f9d99a82c5ebb0caf92f9528344/e9ff0/image-5.png 180w,\n/static/3aba2f9d99a82c5ebb0caf92f9528344/78805/image-5.png 291w\"\n        sizes=\"(max-width: 291px) 100vw, 291px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n이러한 결과가 나온다.</p>\n<ul>\n<li>삭제가 되면서 다시 mapping</li>\n<li>영희가 철수의 index였던 0이 됨</li>\n<li>철수 데이터가 영희에게 mapping</li>\n</ul>\n<h2 id=\"해결\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0\" aria-label=\"해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결</h2>\n<ul>\n<li>이를 해결하기 위해서 key 값에 index가 아닌 unique한 값을 주면 된다.\n<ul>\n<li>위의 예시에서는 name을 key 값으로 주면 해결</li>\n</ul>\n</li>\n</ul>","frontmatter":{"date":"July 03, 2024","title":"리액트 배열의 index로 key를 쓰면 안되는 이유","categories":"React","author":"손재형","emoji":"⚛️"},"fields":{"slug":"/react-mapKeyIndex/"}},"prev":{"id":"13d44c07-cfa8-532a-91c5-5e5129d1f7c9","html":"<h1 id=\"nextjs에서-채팅-구현\" style=\"position:relative;\"><a href=\"#nextjs%EC%97%90%EC%84%9C-%EC%B1%84%ED%8C%85-%EA%B5%AC%ED%98%84\" aria-label=\"nextjs에서 채팅 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js에서 채팅 구현</h1>\n<ul>\n<li>소켓 통신에 대해 알기</li>\n<li>socket.io 작동 방식</li>\n<li>next.js api route</li>\n</ul>\n<h2 id=\"세팅\" style=\"position:relative;\"><a href=\"#%EC%84%B8%ED%8C%85\" aria-label=\"세팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세팅</h2>\n<ul>\n<li>next 14 app router 프로젝트</li>\n<li>tailwind 사용</li>\n<li>서버 프레임워크 사용 대신 next api route 사용</li>\n</ul>\n<h2 id=\"회고\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EA%B3%A0\" aria-label=\"회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회고</h2>\n<ul>\n<li>\n<p>일단 app router 방식의 api routes는 socket io 연동이 불가능했다.</p>\n<ul>\n<li>socket io 사용을 하기 위해 next의 서버에 연결을 해야 했는데</li>\n<li>app router는 서버 인스턴스가 제공되지 않았음.</li>\n<li>전체 프로젝트는 app router, 채팅 부분만 page로 빼내어 사용</li>\n</ul>\n</li>\n<li>\n<p>socket.io에 대한 이해 부족</p>\n<ul>\n<li>채팅 서비스 구현에 집중해서 socket.io 자체에 대한 학습이 부족했음</li>\n<li>때문에 공식문서에 나와있는 next.js 활용 예시와 블로그 글들을 많이 검색했음\n<ul>\n<li>공식문서에서는 루트에 server.js를 추가하여 커스텀 서버를 만들라고 함</li>\n<li>블로그 예제는 handler의 res를 통해 서버 인스턴스 접근으로 구현</li>\n<li>나는 후자를 택했음.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>서버 연결 채팅 전부 작동되지만</p>\n<ul>\n<li>간헐적으로 연결이 끊기는 문제가 발생했다.</li>\n<li>여러가지 검색과 시도를 해봤지만, socket io와 next.js 호환성 문제라고 결론 지음</li>\n</ul>\n</li>\n<li>\n<p>api route로 채팅 서비스를 구현하는 것은 현재로써 별로 적절하지 못한 방법인 것 같았다.</p>\n</li>\n<li>\n<p>nest를 사용하여 다시 구현 해봐야겠음.</p>\n</li>\n</ul>\n<p>github : <a href=\"https://github.com/sonesonjabgo/next-board\">https://github.com/sonesonjabgo/next-board</a></p>","frontmatter":{"date":"July 04, 2024","title":"next.js 채팅 구현","categories":"Next","author":"손재형","emoji":null},"fields":{"slug":"/next-chatting/"}},"site":{"siteMetadata":{"siteUrl":"https://sonesonjabgo.github.io","comments":{"utterances":{"repo":"sonesonjabgo/sonesonjabgo.github.io"}}}}},"pageContext":{"slug":"/next-folder-tips/","nextSlug":"/react-mapKeyIndex/","prevSlug":"/next-chatting/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}