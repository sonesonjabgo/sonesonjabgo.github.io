{"componentChunkName":"component---src-templates-blog-template-js","path":"/next-folder-tips/","result":{"data":{"cur":{"id":"f1d824ce-0f01-5e8d-8319-44fc929cb3ca","html":"<h2 id=\"next-app-router\" style=\"position:relative;\"><a href=\"#next-app-router\" aria-label=\"next app router permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next app router</h2>\n<ul>\n<li>app router 방식은 폴더 네이밍대로 routing이 생긴다.</li>\n<li>이게 아주 편리하지만 … 폴더가 많으면 너무 복잡해진다</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 214px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACN0lEQVQ4y5WTS2/TQBRGs0VIIGp7PH6O305sx3GcV0lKo9KWFopQhcQGEGKHxB9gA/+CDb/2oDqhLKBNu7ia0Uj36MzMd3thkjIKA36en3E8HnNe5byuciwpMU0TKeW9quf5isC2eDeekvopiyjgQPkIsYXdE9qzLIkK+5w8k/z6XqOKGH+/wEv9jaEl/9YdrHu2beO4inZg8eFlTlKmZMsSy5YYTzQMzcDY07u9ubW+DdoBwyDlYB3y7ccFUZYSNhn5oiTbr0hnRbcODhsc37mG3gpUfkTT+nz5+oK4n+DWMWGbEs37+MMYNU5J5gVu4N4NuKcZ5LHLm7VHkmTszxeMqhHDqqEuh4zrBlfaGIax+8qObaPrJsPC5f1lhq8ilssVk2ZC08yYjlsW0wXK9RBCbIC7DA0pSC3FoRziKBe/SVF1TDTJcCIPbxDg52EXIXNXbK4MNVMwcgLWMkD2Q/qnU5JlRbpuUHVGsqxJJn2kZd4tNpbQ0aIBD+YX5JFiViaU8VWUIiZlQhF56JqxbTJ3x0YKHTMa8Hh2QR4HXJ5MWS0q1k9LVvOCZdtHmH8yKHcbSmEggoy99hjbFCSO01XqOITW1e+Kf97uJssN0NARScXD5VsmYcDH8ZDPbc3FIONVkRFJ2V3ZNARCN65h/4NuDQVCxWjDFZZrYyUKJw9xyxgr8rv5VoMIL1ab37ZuNXSQhoaRNTw6+tQ1Fc9biqOG8nRCvqyozqZUZzPSedGd2Z5948T8BlgMtq+n6+c4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/7dbf3aecf84d6da887894616c18568ef/a48b3/image.png\"\n        srcset=\"/static/7dbf3aecf84d6da887894616c18568ef/e9ff0/image.png 180w,\n/static/7dbf3aecf84d6da887894616c18568ef/a48b3/image.png 214w\"\n        sizes=\"(max-width: 214px) 100vw, 214px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>위와 같이 폴더를 구성하고</p>\n</li>\n<li>\n<p>components 안에 pages.tsx를 작성하면</p>\n</li>\n<li>\n<p>(주소)/components 라는 경로의 페이지가 만들어져 버린다</p>\n</li>\n<li>\n<p>위 같은 문제를 방지하기 위해 next는 폴더 규칙이 있다.</p>\n</li>\n</ul>\n<h2 id=\"route-group\" style=\"position:relative;\"><a href=\"#route-group\" aria-label=\"route group permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Route group</h2>\n<ul>\n<li>route가 될 수 있는 페이지들을 하나의 그룹으로 묶을 수 있게 해줌</li>\n<li>규칙은 (name)\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 290px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 148.88888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEpUlEQVRIx42V21MbZRjGd7On7G72kF12c4IQgoCkQEk5QwmUaUCgIIcQQjgfhHRobSlqdcZxrKMzTus4VscrL7ypM9545Z1XXvi3+G88+n0LgQTC9OKdPT/7/t73+d6P6R/IINU7go3eAfyzvobTxRVksrPYPXiItc09zC+uItXRg87bfeh4i2D6RufQdfcB5oam8OfRCb44PMV0/hCfvvgBxx9/jcLeCTr6skgPz6B7aBq3B6duDCZY3wU9cgtqOAUxcguS0wbBSEB134UUbIZoJr1zqxmy3QIj2gEz2kGP1wXj4wQoqgaeFxGtj2P96BFS3T2QZRWZ8Ql0dd9BQzyB8Yn7GB27B003wTAMGIa9PgQpAFW3Icoa6iJxfPDR5+gfn4JuOpicXcDovUncHc9iZn4Z+eIOLCcKhhXACQp8ggwfXxmM4NfAcn4wrEhf9P5+ngF36fosfCJY3k+/KQfvL9+jgj5egaSYUAJBWKEYPnv5EyYeLEOSNWSn5zA2MYWudB8mJmfQ2NRKf0SyKQtfJyjKOmTVhB50cfrVK0yvbEA367C1X8JCbo0KF7f2EW1IVgpWBRXkBBUMUfdVYZPramRWgO9yZjWRZQNywETQieDkxUuMZGehGTYGhsfQ3tGNwZFxJFtSF4I1wmvKmSCpoW65eP7ta8wX96BqQSyuFPHhs+fY2jvCnf5hD1eQb86QIHudFioxz8/Zi3uemHR9htc1xbDD1It9mfu0y+neISRb2pHuHURjsrV2DblqZMWAqlkw7BC+/PEX5HZLFHl+KY9cYQP54hZ6+kcukG+qYW1k6eycqyjDW3VZ9OvwKwa0oIv10lN0D2bAiwoSzW2IN7WgK91P0UnWZdFqwcvIfsWEqlsIOlF89+vvKBw+psbe3DvC5PQ8tvdLyK9vI2iHwDA1rHOly1XGJt30cH21sa/LkCCToyTr0IIOcjslpNIDFNkJ18MNN8AJxRCKxNHa3glJ0cFwUmUtL2dIkVUTAd2GHY7h9Zs/sHb0BKbl4vD4KUqPn6H06ASr6ztYWdtCQ+Idb4SJypUhUc6QqjMEkac1og8pqq9qoDKXSuCNuMsdp4LEgywXQKRew9xSI+IJB7wYgBuup8ixeBJOqB62G6X45FjnxtCYbKPPKzLkRRWmHYZfDaGpxY+//t7Eq++P4EYSeH95FUv5IgobuxSdIL83u0DHWK6wicLmLvLFbTpUzlfQWQ1lMKwEhhPgRC2EYhH6R0FSwQkyfVkz6+hSJNd+RadbBi+pUAJmxfpmeClAPchJAVimhb72FGzTpmVwIw3Qgw5MK4RQNE73GbKX0GFBLEZsxYoXw4LUkBNVaIYDWa9DPBzGb998gsO1HDX40kqR4i3kCl6Hi1u08xSPblD+KyvGM7YY8NYtK4OTXHCiAZaXQHbEgGFDM+rgVw2K7XlPqvBehQ8JMhmuLK8h5kooZkU0xaSz5aiX60WESU2JqW+chwTZCDrglAgynQzwbwZvft6AE23G8ZNTrO8cYHJmnnZ1++AhpucWqRc5Qa4xHCSNeo7lZPCCgOYmB4mmODU7qRexBMkqoFswLPfmDP8X/A+vXQkN1i5XpgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/361cb137d403f5e57be5dc9b663d08be/139a5/image-1.png\"\n        srcset=\"/static/361cb137d403f5e57be5dc9b663d08be/e9ff0/image-1.png 180w,\n/static/361cb137d403f5e57be5dc9b663d08be/139a5/image-1.png 290w\"\n        sizes=\"(max-width: 290px) 100vw, 290px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></li>\n</ul>\n<h2 id=\"private-folder\" style=\"position:relative;\"><a href=\"#private-folder\" aria-label=\"private folder permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Private folder</h2>\n<ul>\n<li>page.tsx를 만들더라도 route를 생성하지 않게 하려면</li>\n<li>폴더 앞에 _ 를 붙이면 된다.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 148px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACPElEQVQoz32RT28SQRiHuWlTSmH/zOzswsLCLgssbKHLn9LSkDRKtTStjTFGPTS1BxPPHvwMHkz06Gfx5gd7zC61Rasefnknk5ln3uednO04WMqmWqtQcW2EUJTLZRzbwbbs2yihVlUqlKWwlZOdcdKza8m12hE73QGDXYPvP6749Pma/GaRxrBD/HRIvNynl9bzKd1Fn/jikHgxJnl1SPd4iFICIQRSyiy5iutSdT1qnsGHj0uuLk+QjiIYdWhO2tQHbcJZj2gxpJE08Sc9/EELf9yi3g+xHQspLSxrlZxSCiEFpmmx8WCbTdXAcj2kaaJvldALJUzNQNssoudLmCUdPV/EKOgI3cy6SkG/as7JZqiwpIldrZG//sLW7CWNboPB+T6d5ZTJ6zndVPtsj87RiHi5h58ECENgqTvYHfDmBWlZaMMFRtCnXHVo7vXwJxHBsI0/atFI2nhxSHgQ44ZVpCluQfeB6YYUiEoNaTsIw8QoaugFDTNVMwXGtpbppxE3sPXu1oAKS5jIcpWH775ROLrE9RTd0wMGF1N6jyf0T6f0z/YJpp0VTN1B/qus9+cY9QjHdfAnXfxhiBc3qccBwTii2vaybtch/wDeKHshMtU2DMyivvrNFCAkRkG7XWd30vUf6veUN95+pTB/g1u36T07ZPf5lJ0nM+bvl0THE8aXc6KTEdFiRPJihp80s3n/VdmSEi15hOH3cCqKetKm3g/wogB/EFKLA/xhm+ZBDzf0aCQt3Obvv/0T5+hQqMh2oMkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/3646a8afde326af73db156f7bd7f745a/12f09/image-2.png\"\n        srcset=\"/static/3646a8afde326af73db156f7bd7f745a/12f09/image-2.png 148w\"\n        sizes=\"(max-width: 148px) 100vw, 148px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></li>\n</ul>\n<h2 id=\"next에서-api-key-숨기기\" style=\"position:relative;\"><a href=\"#next%EC%97%90%EC%84%9C-api-key-%EC%88%A8%EA%B8%B0%EA%B8%B0\" aria-label=\"next에서 api key 숨기기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next에서 API KEY 숨기기</h2>\n<ul>\n<li>API KEY나 환경 변수 같은 것 들은 .env 파일에 저장한다.</li>\n<li>root에 .env 파일을 만들고 변수 작성하면 됨.</li>\n<li>불러올 때 process.env.변수이름 으로 불러오면 된다.</li>\n</ul>","excerpt":"Next app router app router 방식은 폴더 네이밍대로 routing이 생긴다. 이게 아주 편리하지만 … 폴더가 많으면 너무 복잡해진다  위와 같이 폴더를 구성하고 components 안에 pages.tsx를 작성하면 (주소)/components 라는 경로의 페이지가 만들어져 버린다 위 같은 문제를 방지하기 위해 next는 폴더 규칙이 있다. Route group route가 될 수 있는 페이지들을 하나의 그룹으로 묶을 수 있게 해줌 규칙은 (name)\r\n Private folder page.tsx를 만들더라도 route를 생성하지 않게 하려면 폴더 앞에 _ 를 붙이면 된다.\r\n Next에서 API KEY 숨기기 API KEY나 환경 변수 같은 것 들은 .env 파일에 저장한다. root에 .env 파일을 만들고 변수 작성하면 됨. 불러올 때 process.env.변수이름 으로 불러오면 된다.","frontmatter":{"date":"July 04, 2024","title":"next.js 폴더 구조 + 팁","categories":"Next","author":"손재형","emoji":null},"fields":{"slug":"/next-folder-tips/"}},"next":{"id":"ee4a0e5c-b397-577c-b42e-0e76be9023df","html":"<h2 id=\"하이드레이션hydration이란\" style=\"position:relative;\"><a href=\"#%ED%95%98%EC%9D%B4%EB%93%9C%EB%A0%88%EC%9D%B4%EC%85%98hydration%EC%9D%B4%EB%9E%80\" aria-label=\"하이드레이션hydration이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>하이드레이션(Hydration)이란?</h2>\n<ul>\n<li>서버사이드 렌더링(SSR)을 통해 만들어 진 인터랙티브 하지 않는 HTML을 클라이언트 측 자바스크립트를 사용하여 인터랙티브한 리액트 컴포넌트로 변환하는 과정을 말한다.\r\n(서버 환경에서 이미 렌더링된 HTML에 React를 붙이는 것)</li>\n</ul>\n<h2 id=\"in-nextjs\" style=\"position:relative;\"><a href=\"#in-nextjs\" aria-label=\"in nextjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>in Next.JS</h2>\n<ul>\n<li>\n<p>next js는 기본적으로 SSR 방식으로 랜더링 한다.</p>\n</li>\n<li>\n<p>여기서 hydration이 적용이 되는데</p>\n</li>\n<li>\n<p>초기 Html 파일을 먼저 전달하고 이후 HTML 요소들을 React 컴포넌트로 변환 및 이벤트리스너를 부착하여 React DOM에서 관리하게 한다.</p>\n</li>\n<li>\n<p>이 과정을 Hydration(수분 보충)이라고 한다.</p>\n</li>\n</ul>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<ul>\n<li>next js가 정적인 html을 먼저 띄우고</li>\n<li>그 뒤에 hydration이 이루어짐</li>\n<li>이 과정 덕에 SPA의 단점인 초기 랜더링 시 오래 걸리는 문제를 해결함\n<ul>\n<li>자바스크립트가 랜더링 하는 것을 기다리지 않기 때문</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"a-vs-link\" style=\"position:relative;\"><a href=\"#a-vs-link\" aria-label=\"a vs link permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a> vs <Link></h2>\n<ul>\n<li>next js를 사용하면서 페이지를 이동할 때 Link 태그를 사용하도록 권장한다.\n<ul>\n<li>Link 태그가 프레임워크의 네비게이션이기 때문</li>\n<li>a 태그는 브라우저 네비게이션</li>\n</ul>\n</li>\n<li>a 태그를 사용하면 페이지 전체를 새로 불러와서 기능 저하를 일으킨다.</li>\n<li>Link 태그는 브라우저 주소만 바꾸고 페이지 새로 불러오지는 않음.</li>\n<li>따라서 SPA인 리액트는 Link 사용을 권장함</li>\n<li>하이드레이션이 되기 전 정적 html에서 link 태그는 a 태그와 같이 취급된다.</li>\n</ul>","frontmatter":{"date":"July 04, 2024","title":"next.js hydration","categories":"Next","author":"손재형","emoji":null},"fields":{"slug":"/next-hydration/"}},"prev":{"id":"13d44c07-cfa8-532a-91c5-5e5129d1f7c9","html":"<h1 id=\"nextjs에서-채팅-구현\" style=\"position:relative;\"><a href=\"#nextjs%EC%97%90%EC%84%9C-%EC%B1%84%ED%8C%85-%EA%B5%AC%ED%98%84\" aria-label=\"nextjs에서 채팅 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js에서 채팅 구현</h1>\n<ul>\n<li>소켓 통신에 대해 알기</li>\n<li>socket.io 작동 방식</li>\n<li>next.js api route</li>\n</ul>\n<h2 id=\"세팅\" style=\"position:relative;\"><a href=\"#%EC%84%B8%ED%8C%85\" aria-label=\"세팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세팅</h2>\n<ul>\n<li>next 14 app router 프로젝트</li>\n<li>tailwind 사용</li>\n<li>서버 프레임워크 사용 대신 next api route 사용</li>\n</ul>\n<h2 id=\"회고\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EA%B3%A0\" aria-label=\"회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회고</h2>\n<ul>\n<li>\n<p>일단 app router 방식의 api routes는 socket io 연동이 불가능했다.</p>\n<ul>\n<li>socket io 사용을 하기 위해 next의 서버에 연결을 해야 했는데</li>\n<li>app router는 서버 인스턴스가 제공되지 않았음.</li>\n<li>전체 프로젝트는 app router, 채팅 부분만 page로 빼내어 사용</li>\n</ul>\n</li>\n<li>\n<p>socket.io에 대한 이해 부족</p>\n<ul>\n<li>채팅 서비스 구현에 집중해서 socket.io 자체에 대한 학습이 부족했음</li>\n<li>때문에 공식문서에 나와있는 next.js 활용 예시와 블로그 글들을 많이 검색했음\n<ul>\n<li>공식문서에서는 루트에 server.js를 추가하여 커스텀 서버를 만들라고 함</li>\n<li>블로그 예제는 handler의 res를 통해 서버 인스턴스 접근으로 구현</li>\n<li>나는 후자를 택했음.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>서버 연결 채팅 전부 작동되지만</p>\n<ul>\n<li>간헐적으로 연결이 끊기는 문제가 발생했다.</li>\n<li>여러가지 검색과 시도를 해봤지만, socket io와 next.js 호환성 문제라고 결론 지음</li>\n</ul>\n</li>\n<li>\n<p>api route로 채팅 서비스를 구현하는 것은 현재로써 별로 적절하지 못한 방법인 것 같았다.</p>\n</li>\n<li>\n<p>nest를 사용하여 다시 구현 해봐야겠음.</p>\n</li>\n</ul>\n<p>github : <a href=\"https://github.com/sonesonjabgo/next-board\">https://github.com/sonesonjabgo/next-board</a></p>","frontmatter":{"date":"July 04, 2024","title":"next.js 채팅 구현","categories":"Next","author":"손재형","emoji":null},"fields":{"slug":"/next-chatting/"}},"site":{"siteMetadata":{"siteUrl":"https://sonesonjabgo.github.io","comments":{"utterances":{"repo":"sonesonjabgo/sonesonjabgo.github.io"}}}}},"pageContext":{"slug":"/next-folder-tips/","nextSlug":"/next-hydration/","prevSlug":"/next-chatting/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}