{"componentChunkName":"component---src-templates-blog-template-js","path":"/react-dropdown/","result":{"data":{"cur":{"id":"1dc837ea-0717-5fa6-9f21-c5b21490f055","html":"<p>리액트 프로젝트에서 드롭다운 메뉴를 만들어야 했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 297px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 173.88888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADE0lEQVRIx6WVyY8bRRTG+0/iQlgCGRLIQg4QDQe2WyBCghAyCxkGEY0UiRMH8CBmSEj+hyTkwhEuLIeAFETwxMbdnvHaXe1uL2P3UvVDVfY4GUDC3VPS57L6lb76qt57X1mn5td44+xnnHntCsdf+oSTZy5nxomXL3P6lTVenF/DOnL6YxZWrjH/+hUen1vg8AvLPP18Njx1bIm5Ux9x5OQKVmHjJp9v3KGw+S1fXbvD+te3Wd/MjsLGLQMLYOTvEA069Ppd0jQGJJDmAFixVLR//4mmU6biVPE8QRiGBEE2dDoBw+EQCym53/Fo+IJmvW6C/X6fXq+XGXEcY5FKfus0qfke246D8P1chN1ulyiKsBIUo3tlhF2lLTwGg4EJ5iZMlST8q4FoNPF83xDmOa7GRCEM7/2CqFawt7cRwqc/2XFW/EOhYli3Cb02rueZwN4d6nlWTJOiq6f53c80/ixRtm1c1zVBXTpZVOr1o9EIS6LoOXVC18MVwuym62l3dzczkiTBStNxhavJj5SSNJVmnhWaQ0pl/ltpElEsFgnCEB5SZx5Gob5DLXN8/uiR3WbHeL00GTZJefu9AueXNnnnwpecffcL3sqJc++vc+58AevQsWUurlzn1Tc/5bHDF3jy6BJPPLc4O44ucmhugWdPXOKZ4x9ifXDpKsurN1havc7i6jfGbC/mwlU0l/FDsRvSG+j2GVd7ksTmPmZBMkEcRygltdvA99W7bO2UKW09wBNiWqhZEATBuLCVlDjCpe0LhKfJsrXcv1oPqfjBKVF0KpQelIzz9jKaw77WU1JhhzVafpswCKf2lV9hqvgxKFFuVWk1WiaYVd1++wKirSKdWo22EAxyvif77Cv84z5utYo7ceyDPQESBq27iJZNqVxBTCzsYIT1X+m0qlScbVNPWmWepBhC7RiPjoeOM57/D3vrlNrzwzShVtsxuxg3VCoz9NAubxxbK+zotomiAxGOPSDB0qnWH9MkmdkQ/gv62OM3JYmp2DZhtzdVmGXsrdeJNHWoP+genD5WOY+s1WmOvwGgiNkqriEZywAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/932bf58a19e233e95ed7b2cd23aee0c1/9edad/image.png\"\n        srcset=\"/static/932bf58a19e233e95ed7b2cd23aee0c1/e9ff0/image.png 180w,\n/static/932bf58a19e233e95ed7b2cd23aee0c1/9edad/image.png 297w\"\n        sizes=\"(max-width: 297px) 100vw, 297px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위 사진과 같고 각각의 메뉴는 독립적으로 열리고 닫히기가 가능해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>openMenus<span class=\"token punctuation\">,</span> setOpenMenus<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token function\">Array</span><span class=\"token punctuation\">(</span>groups<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>groups는 전체 그룹들을 담고있는 배열이고 groups와 길이가 같은 false로만 채운 배열을 기본값으로 설정</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">toggleSubMenu</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>index<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// 현재 메뉴의 상태를 반전시킴</span>\r\n  <span class=\"token keyword\">const</span> newOpenMenus <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>openMenus<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  newOpenMenus<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>newOpenMenus<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function\">setOpenMenus</span><span class=\"token punctuation\">(</span>newOpenMenus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>토글 함수로 해당하는 인덱스 번호의 상태를 변화시킴</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n  <span class=\"token operator\">&lt;</span>div\r\n    className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">project_class_list_group </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>openMenus<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> <span class=\"token string\">'active'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\r\n    onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">toggleSubMenu</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n  <span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">{</span>group<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>openMenus<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>FiMinus <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>FiPlus <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\r\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">{</span>openMenus<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span> <span class=\"token comment\">// 서브 메뉴가 열릴 때만 표시</span>\r\n    <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">{</span>group<span class=\"token punctuation\">.</span>classes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>ClassLabel cls<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>cls<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span></code></pre></div>\n<p>div를 눌렀을 때 openMenus[index]의 상태를 변경시키고 그 상태에 따라 하위 메뉴를 보여준다.\r\n(classes는 하위 메뉴를 전부 담고있는 배열)</p>\n<p>이렇게 하여 드롭다운 메뉴를 독립적으로 열리고 닫히도록 한 번에 관리할 수 있게 만들었다.</p>","excerpt":"리액트 프로젝트에서 드롭다운 메뉴를 만들어야 했다.  위 사진과 같고 각각의 메뉴는 독립적으로 열리고 닫히기가 가능해야 한다. groups는 전체 그룹들을 담고있는 배열이고 groups와 길이가 같은 false로만 채운 배열을 기본값으로 설정 토글 함수로 해당하는 인덱스 번호의 상태를 변화시킴 div를 눌렀을 때 openMenus[index]의 상태를 변경시키고 그 상태에 따라 하위 메뉴를 보여준다.\r\n(classes는 하위 메뉴를 전부 담고있는 배열) 이렇게 하여 드롭다운 메뉴를 독립적으로 열리고 닫히도록 한 번에 관리할 수 있게 만들었다.","frontmatter":{"date":"August 12, 2024","title":"드롭다운 메뉴","categories":"React javascript","author":"손재형","emoji":"⚛️"},"fields":{"slug":"/react-dropdown/"}},"next":{"id":"c8931809-dc8f-5bab-bbca-bc209886e300","html":"<p>회사에서 동기와 작업 중 인데 (나 프론트 동기 백엔드)\r\n동기가 이슈로 인해 작업 진도가 좀 차질이 생겼다.</p>\n<p>언제까지 api를 기다릴 수 없기 때문에 임시 데이터를 만들어서 작업하자고 생각했다.</p>\n<h2 id=\"fakerjs-vs-mock-data\" style=\"position:relative;\"><a href=\"#fakerjs-vs-mock-data\" aria-label=\"fakerjs vs mock data permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Faker.js vs Mock data</h2>\n<ul>\n<li>전에 Faker.js 를 사용했었는데 임시 값 들이 임시라고 해도 너무 안맞는 것 같았다.\n<ul>\n<li>ui를 그려낼 수는 있지만 오히려 헷갈렸다.</li>\n</ul>\n</li>\n<li>그래서 mock data를 만들어서 사용하기로 생각했다.</li>\n</ul>\n<h2 id=\"적용\" style=\"position:relative;\"><a href=\"#%EC%A0%81%EC%9A%A9\" aria-label=\"적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>적용</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABYklEQVQoz43OzU/iUBTG4Y4uRkddjNDeawXKbW8hCgLWmqjFDh+1gOUjGRMXJiZCdK2r2c3Gf/w3ESYzMXHh4sl7zlmcvEbJcfBHd9SaLRoHh1ychlS1h5X7zp6VR36WmaNU2MfIVwL0/BV9+ZNmNCSIM9xWm13nANOtk1e1T8mpOgW3grGTvBBMZzz/niNnvzh9fMWePGOcPbAeLZbWLhb/5o/N+RI9Yp6MMHbCG1R3ws3ilnJyT3P2hH15y9dGxlYwXdo+mbLZHLPRythojfl2/GbyzmYwQ9YjDCEs8qbk0BU0KjZheEa306PX7ZAkMXGnQ5r2GaQpcdSmG0e4SmFZJntSIqVYEYJSsfD2cHXUjkSV9vG1T7VaxfM8PFfhOA5lVUZrH19rXFXGtm2EEAgp32WxWMRYLZLzI0lYc/gR9xgORiT9PulwwGiYkV2PuUqvSNKUdtRethHLdvJ//n34Bwad0fWF8FcTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/e72168cdd5007bf947e8d9b6518428ef/63868/image.png\"\n        srcset=\"/static/e72168cdd5007bf947e8d9b6518428ef/e9ff0/image.png 180w,\n/static/e72168cdd5007bf947e8d9b6518428ef/63868/image.png 250w\"\n        sizes=\"(max-width: 250px) 100vw, 250px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n위 사진과 같이 public - data 폴더 안에 json 파일을 만들어주면 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 309px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAqUlEQVQI103NS3KEIAAAUe8xgiY6AiKfCNFRpGruf6lOxWyyelW96aaWRK0b9crkLfBlPdKciNHQK4/dC0JKHkLQCnH7aP/831shkbKjee2R93vnOFdKcVzRk9cDb2e8taSUCXrCqSdeTwSjyFbj9RM1fN7+9kX3dJ2kGceBsyRSWsjrQFADNWh2ZzicZreKGheimfh2hrxorrjwcuYelWjZ3EyYBR+95Ac0rVnoHSzKiAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/ebb88b3e943d4e2b2cf230e11a1a2914/532e8/image-1.png\"\n        srcset=\"/static/ebb88b3e943d4e2b2cf230e11a1a2914/e9ff0/image-1.png 180w,\n/static/ebb88b3e943d4e2b2cf230e11a1a2914/532e8/image-1.png 309w\"\n        sizes=\"(max-width: 309px) 100vw, 309px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n그리고 위와 같이 경로에다가 요청을 하면 된다.</p>\n<h2 id=\"주의할-점\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90\" aria-label=\"주의할 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의할 점</h2>\n<ul>\n<li>GET 만 가능하다.\n<ul>\n<li>당연한거긴 하다.. (next 쓰고 싶다..)</li>\n</ul>\n</li>\n</ul>","frontmatter":{"date":"August 09, 2024","title":"리액트 임시 데이터","categories":"React","author":"손재형","emoji":"⚛️"},"fields":{"slug":"/react-mockData/"}},"prev":{"id":"428518c7-e3eb-5fae-a6c3-f4921ef10d77","html":"<h1 id=\"react에서-중복되지-않는-선택된-클래스-배열-만들기\" style=\"position:relative;\"><a href=\"#react%EC%97%90%EC%84%9C-%EC%A4%91%EB%B3%B5%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%84%A0%ED%83%9D%EB%90%9C-%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%B0%B0%EC%97%B4-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"react에서 중복되지 않는 선택된 클래스 배열 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React에서 중복되지 않는 선택된 클래스 배열 만들기</h1>\n<p><strong>기존 코드의 문제점</strong></p>\n<p>최근 프로젝트에서 <code class=\"language-text\">selectedCls</code> 배열에 사용자 선택 클래스를 추가하면서 중복된 <code class=\"language-text\">class_idx</code> 값을 가진 객체가 여러 개 들어가는 문제가 발생했다. 원래 코드는 단순히 클래스를 추가하고 중복을 제거하는 방식이었는데, 이 방식은 시간 복잡도가 높아 비효율적이었다. 배열을 순회하면서 중복을 확인하는 데 O(n * m) 시간이 소요됐고, 데이터가 많아질수록 성능에 영향을 미쳤다. 그래서 성능을 개선하고자 시간을 단축할 수 있는 방법을 고민해봤다.</p>\n<p><strong>해시맵을 활용한 개선</strong></p>\n<p>해시맵을 사용하여 <code class=\"language-text\">class_idx</code>에 대한 빠른 검색을 구현하고, 중복을 효율적으로 제거하는 방법을 적용해봤다. 이 방법을 사용하면 시간 복잡도를 줄이고, 애플리케이션의 성능을 크게 향상시킬 수 있다. 이제 이 방법을 어떻게 적용했는지 설명하겠다.</p>\n<h2 id=\"데이터-형식\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%95%EC%8B%9D\" aria-label=\"데이터 형식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 형식</h2>\n<p>처음에는 <code class=\"language-text\">Cls</code>와 <code class=\"language-text\">ClsGroup</code> 데이터 형식을 사용하고 있었음. 데이터는 다음과 같다:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Cls</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  class_idx<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\r\n  class_name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\r\n  class_color<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 색상 코드 (예: \"FF0000\")</span>\r\n  class_description<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\r\n  class_insert_datetime<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 생성 날짜</span>\r\n  class_update_datetime<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 업데이트 날짜</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">ClsGroup</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  class_group_idx<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\r\n  class_group_name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\r\n  classes<span class=\"token operator\">:</span> Cls<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  class_group_insert_datetime<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 생성 날짜</span>\r\n  class_group_update_datetime<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 업데이트 날짜</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// 최종적으로 JSON 배열의 타입</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">IClsGroup</span> <span class=\"token operator\">=</span> ClsGroup<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"해시맵으로-변환\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EC%8B%9C%EB%A7%B5%EC%9C%BC%EB%A1%9C-%EB%B3%80%ED%99%98\" aria-label=\"해시맵으로 변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해시맵으로 변환</h2>\n<p>먼저, Cls 객체를 해시맵으로 변환했다. 이렇게 하면 class_idx를 기반으로 빠르게 객체를 검색할 수 있다. 해시맵을 활용한 코드:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> createClsMap <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>cls<span class=\"token operator\">:</span> IClsGroup<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Record<span class=\"token operator\">&lt;</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> Cls<span class=\"token operator\">></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> clsMap<span class=\"token operator\">:</span> Record<span class=\"token operator\">&lt;</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> Cls<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n  cls<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>clGroup<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    clGroup<span class=\"token punctuation\">.</span>classes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>cl<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      clsMap<span class=\"token punctuation\">[</span>cl<span class=\"token punctuation\">.</span>class_idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> cl<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> clsMap<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> clsMap <span class=\"token operator\">=</span> <span class=\"token function\">createClsMap</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 과정의 시간 복잡도는 O(n * m). n은 ClsGroup 배열의 길이, m은 각 그룹 내 classes 배열의 길이이다. 해시맵을 사용함으로써 나중에 클래스를 O(1) 시간에 검색할 수 있게 된다.</p>\n<h2 id=\"중복되지-않는-선택된-클래스-배열-만들기\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EB%B3%B5%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%84%A0%ED%83%9D%EB%90%9C-%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%B0%B0%EC%97%B4-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"중복되지 않는 선택된 클래스 배열 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>중복되지 않는 선택된 클래스 배열 만들기</h2>\n<p>이제 선택된 클래스에서 중복된 class_idx를 제거하는 방법이다.</p>\n<h3 id=\"1-선택된-모든-객체를-추가\" style=\"position:relative;\"><a href=\"#1-%EC%84%A0%ED%83%9D%EB%90%9C-%EB%AA%A8%EB%93%A0-%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EC%B6%94%EA%B0%80\" aria-label=\"1 선택된 모든 객체를 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 선택된 모든 객체를 추가</h3>\n<p>먼저, 선택된 클래스를 selectedCls 배열에 추가한다. 중복 여부는 아직 고려하지 않는다:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addCls</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> newClasses <span class=\"token operator\">=</span> clsIdx\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> clsMap<span class=\"token punctuation\">[</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// O(1)로 검색</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>cl<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> cl <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined 필터링</span>\r\n\r\n  <span class=\"token function\">setSelectedCls</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>prev<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// 먼저 새로운 클래스를 추가</span>\r\n    <span class=\"token keyword\">const</span> combined <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>prev<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>newClasses<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// 중복된 class_idx를 제거하여 고유한 class_idx만 남김</span>\r\n    <span class=\"token keyword\">const</span> uniqueClasses <span class=\"token operator\">=</span> <span class=\"token builtin\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span>combined<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>cl<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>cl<span class=\"token punctuation\">.</span>class_idx<span class=\"token punctuation\">,</span> cl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> uniqueClasses<span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"2-중복-제거\" style=\"position:relative;\"><a href=\"#2-%EC%A4%91%EB%B3%B5-%EC%A0%9C%EA%B1%B0\" aria-label=\"2 중복 제거 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 중복 제거</h3>\n<p>selectedCls 배열에 모든 선택된 클래스를 추가한 후, 중복된 class_idx를 제거한다:</p>\n<ul>\n<li>Map 객체 생성: class_idx를 키로 하고, Cls 객체를 값으로 설정한다. Map은 같은 키가 여러 번 삽입될 경우, 마지막으로 삽입된 값만 유지한다.</li>\n<li>고유 클래스 추출: Array.from()과 Map.values()를 사용하여 중복된 class_idx를 가진 Cls 객체를 제거한 배열을 생성한다.</li>\n</ul>\n<h2 id=\"시간-복잡도\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84-%EB%B3%B5%EC%9E%A1%EB%8F%84\" aria-label=\"시간 복잡도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간 복잡도</h2>\n<ul>\n<li>해시맵 생성 (createClsMap): O(n * m)\n<ul>\n<li>n은 ClsGroup 배열의 길이</li>\n<li>m은 각 그룹 내 classes 배열의 길이</li>\n</ul>\n</li>\n<li>클래스 추가 및 중복 제거 (addCls):\n<ul>\n<li>선택된 클래스 검색: O(k)</li>\n<li>중복 제거: O(n), 여기서 n은 결합된 배열의 길이</li>\n</ul>\n</li>\n</ul>\n<p>최종 시간 복잡도는 O(n * m + k). 데이터가 많아질수록 성능이 향상된다.</p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>이 방법을 사용하면 selectedCls 배열에서 중복된 class_idx를 가진 객체가 여러 개 존재하지 않도록 보장할 수 있다. 해시맵을 활용하여 빠르게 데이터를 검색하고, Map을 사용하여 중복을 효율적으로 제거하는 이 방법은 코드의 성능과 유지 보수성을 높여준다. 이와 같은 방식으로 선택된 데이터의 중복을 제거하고, 애플리케이션의 데이터 무결성을 유지하자.</p>","frontmatter":{"date":"August 20, 2024","title":"중복되지 않는 선택된 클래스 배열 만들기","categories":"React javascript","author":"손재형","emoji":"⚛️"},"fields":{"slug":"/react-deatwitharray/"}},"site":{"siteMetadata":{"siteUrl":"https://sonesonjabgo.github.io","comments":{"utterances":{"repo":"sonesonjabgo/sonesonjabgo.github.io"}}}}},"pageContext":{"slug":"/react-dropdown/","nextSlug":"/react-mockData/","prevSlug":"/react-deatwitharray/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}